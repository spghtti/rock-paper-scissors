<!DOCTYPE html>
<html>
<head>
  <title>Test Page</title>
  <meta charset="UTF-8"/>
</head>
<body>
  <script>
    function computerPlay() {   // Randomized computer choice
        let computerChoices = ["rock", "paper", "scissors"];
        let random = Math.floor(Math.random() * computerChoices.length);
        return computerChoices[random];
    }

    function playerPlay() {     // User input. Fix later to deny typos
        let choice = prompt("Choose rock, paper or scissors");
        while ((choice.toLowerCase() != "rock") && (choice.toLowerCase() != "paper") && (choice.toLowerCase() != "scissors")){
              choice = prompt("Try again");
              }     
        return choice.toLowerCase();
    }
    function playRound(playerSelection, computerSelection) {  // Defining a single round of play
        if (playerSelection == "rock" && computerSelection == "paper") {
            console.log("Computer picked " + computerSelection);
            console.log("Computer point");
            return ++computerWins;
            
       } else if (playerSelection == "paper" && computerSelection == "scissors") {
            console.log("Computer picked " + computerSelection);
            console.log("Computer point");
            return ++computerWins;
            
       } else if (playerSelection == "scissors" && computerSelection == "rock") {
            console.log("Computer picked " + computerSelection);
            console.log("Computer point");
            return ++computerWins;
            
       } else if (playerSelection == computerSelection) {
            console.log("Computer picked " + computerSelection);
            return console.log("Tie");
            
       } else {
            console.log("Computer picked " + computerSelection);
            console.log("Your point");
            return ++playerWins;
            }
    }

    function game() {   // Best of 5 function
        while ((computerWins < 3) && (playerWins < 3)) {
            let computerSelection = computerPlay();
            let playerSelection = playerPlay();
            playRound(playerSelection, computerSelection)
            console.log("Computer: " + computerWins + " | Human: " + playerWins)
            }
        if (computerWins > playerWins) {
            console.log("Computer wins the game.");
        } else {
            console.log("You win the game.");  
            }
     }
    let computerSelection;
    let playerSelection;
    let computerWins = 0;
    let playerWins = 0;
    console.log("Let's play rock, paper, scissors--best out of five.");
    console.log(game());
  </script>
</body>
</html>
